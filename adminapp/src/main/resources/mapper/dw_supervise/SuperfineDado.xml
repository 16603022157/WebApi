<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.adminapp.business.dao.dw_supervise.SuperfineDado">
    <select id="listPersonInformation" resultType="com.adminapp.business.entity.dw_supervise.Personinformation">
        select personid AS code,personname AS name,age,gender,facepath AS headUrl,suspectstatus AS state,bailoutbegindate AS execStartDate,
        bailoutenddate AS execEndDate,contact AS phone,persontags AS tags FROM t_personinformation WHERE sponsoralarm=#{UserId} ORDER BY t_personinformation.personname
    </select>
    <select id="getPrisonSetting" resultType="com.adminapp.model.dw_supervise.PrisonSettingModel">
        select id AS code,settingname AS name,settingcheck AS enable FROM t_prisonsetting WHERE personid=#{personid}
    </select>
    <select id="listLocation" resultType="com.adminapp.model.dw_supervise.ReportLocationModel">
        select * FROM t_location WHERE personid=#{personid}
    </select>
    <select id="listReportSetting" resultType="com.adminapp.business.entity.dw_supervise.ReportSettingsInformation">
        select * FROM t_reportsettings
    </select>
    <select id="listSingin" resultType="com.adminapp.business.entity.dw_supervise.SinginInformation">
        select * FROM t_singin WHERE personid=#{personid} AND type=#{type}
    </select>
    <select id="listCiteRecord" resultType="com.adminapp.business.entity.dw_supervise.SummonsInformation">
        select *FROM t_summons
    </select>
    <select id="listKeyCiteRecord" resultType="com.adminapp.business.entity.dw_supervise.SummonsInformation">
        select * FROM t_summons WHERE personname LIKE'%${key}%'
    </select>
    <select id="getPersonInformation" resultType="com.adminapp.model.dw_supervise.PersonAllInformationModel">
        select * FROM t_personinformation WHERE personid=#{personid}
    </select>
    <insert id="insertCiteRecord" parameterType="com.adminapp.model.dw_supervise.CiteRecordSubmitModel" useGeneratedKeys="true" keyProperty="date.id">
        insert into t_summons(personid,personname,summontime) VALUES (#{date.personid},#{date.personname},#{date.summonsTime})
    </insert>
</mapper>